{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/dedylu/perfect-job/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/dedylu/perfect-job/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/dedylu/perfect-job/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useReducer,useState}from'react';import Header from'../components/Header';import Footer from'../components/Footer';import{useParams}from'react-router-dom';import axios from'../axios';import ListItem from'../components/ListItem';import Spiner from'../components/Spiner';import{Store}from'../Store';import{toast,ToastContainer}from'react-toastify';import{jobReducer}from'../JobReducer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function FilteListCat(){var params=useParams();var name=params.name;var _useContext=useContext(Store),state=_useContext.state;var user=state.user;var _useReducer=useReducer(jobReducer,{loading:true,jobs:[],error:\"\"}),_useReducer2=_slicedToArray(_useReducer,2),_useReducer2$=_useReducer2[0],loading=_useReducer2$.loading,error=_useReducer2$.error,jobs=_useReducer2$.jobs,dispatch=_useReducer2[1];useEffect(function(){var fetchJobs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:\"FETCH_REQUEST\"});_context.next=4;return axios.get(\"/myjobs/jobs/category/\".concat(name));case 4:_yield$axios$get=_context.sent;data=_yield$axios$get.data;dispatch({type:\"FETCH_SUCCESS\",payload:data});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);dispatch({type:\"FETCH_FAIL\",payload:_context.t0});case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));return function fetchJobs(){return _ref.apply(this,arguments);};}();fetchJobs();console.log(jobs);},[name]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container-xxl bg-white p-0\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-xxl py-5 bg-dark page-header mb-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container my-5 pt-5 pb-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-3 text-white mb-3 animated slideInDown\",children:\"Job List\"}),/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb text-uppercase\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Pages\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item text-white active\",\"aria-current\":\"page\",children:\"Job List\"})]})})]})}),/*#__PURE__*/_jsx(\"h1\",{className:\"display-3 text-center mb-3 animated slideInDown\",children:String(name)}),loading?/*#__PURE__*/_jsx(Spiner,{}):error?toast.success(\"An error occured while fetching data\"):jobs&&jobs.length>0?jobs.map(function(value,key){return/*#__PURE__*/_jsx(ListItem,{id:value._id,title:value.title,location:value.country,salary:value.salary,nature:value.nature,dataline:value.dateline});}):/*#__PURE__*/_jsx(\"h4\",{className:\"display-3  text-center mb-3 animated slideInDown\",style:{fontSize:\"17px\"},children:\"Oops! No job Found for this category\"}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",class:\"btn btn-lg btn-primary btn-lg-square back-to-top\",children:/*#__PURE__*/_jsx(\"i\",{class:\"bi bi-arrow-up\"})})]});}","map":{"version":3,"names":["React","useContext","useEffect","useReducer","useState","Header","Footer","useParams","axios","ListItem","Spiner","Store","toast","ToastContainer","jobReducer","FilteListCat","params","name","state","user","loading","jobs","error","dispatch","fetchJobs","type","get","data","payload","console","log","String","success","length","map","value","key","_id","title","country","salary","nature","dateline","fontSize"],"sources":["C:/Users/dedylu/perfect-job/client/src/pages/FilteListCat.js"],"sourcesContent":["import React, { useContext, useEffect, useReducer, useState } from 'react'\r\nimport Header from '../components/Header'\r\nimport Footer from '../components/Footer'\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from '../axios';\r\nimport ListItem from '../components/ListItem';\r\nimport Spiner from '../components/Spiner';\r\nimport { Store } from '../Store';\r\nimport {toast, ToastContainer} from 'react-toastify'\r\nimport { jobReducer } from '../JobReducer';\r\nexport default function FilteListCat() {\r\n      const params = useParams();\r\n      const {name} = params;\r\n      const { state } = useContext(Store);\r\n      const { user } = state;\r\n      const [{ loading, error, jobs }, dispatch] = useReducer(jobReducer, {\r\n        loading: true,\r\n        jobs: [],\r\n        error: \"\",\r\n      });\r\n\r\n      useEffect(() => {\r\n        const fetchJobs = async () => {\r\n          try {\r\n            dispatch({ type: \"FETCH_REQUEST\" });\r\n            const { data } = await axios.get(`/myjobs/jobs/category/${name}`);\r\n            dispatch({ type: \"FETCH_SUCCESS\", payload: data });\r\n          } catch (err) {\r\n            dispatch({\r\n              type: \"FETCH_FAIL\",\r\n              payload: err,\r\n            });\r\n          }\r\n        };\r\n        fetchJobs();\r\n        console.log(jobs);\r\n      }, [name]);\r\n      \r\n  return (\r\n    <div className=\"container-xxl bg-white p-0\">\r\n      <ToastContainer />\r\n      <Header />\r\n\r\n      <div className=\"container-xxl py-5 bg-dark page-header mb-5\">\r\n        <div className=\"container my-5 pt-5 pb-4\">\r\n          <h1 className=\"display-3 text-white mb-3 animated slideInDown\">\r\n            Job List\r\n          </h1>\r\n          <nav aria-label=\"breadcrumb\">\r\n            <ol className=\"breadcrumb text-uppercase\">\r\n              <li className=\"breadcrumb-item\">\r\n                <a href=\"/\">Home</a>\r\n              </li>\r\n              <li className=\"breadcrumb-item\">\r\n                <a href=\"#\">Pages</a>\r\n              </li>\r\n              <li\r\n                className=\"breadcrumb-item text-white active\"\r\n                aria-current=\"page\"\r\n              >\r\n                Job List\r\n              </li>\r\n            </ol>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n      <h1 className=\"display-3 text-center mb-3 animated slideInDown\">\r\n        {String(name)}\r\n      </h1>\r\n      {loading ? (\r\n        <Spiner />\r\n      ) : error ? (\r\n        toast.success(\"An error occured while fetching data\")\r\n      ) : jobs && jobs.length > 0 ? (\r\n        jobs.map((value, key) => (\r\n          <ListItem\r\n            id={value._id}\r\n            title={value.title}\r\n            location={value.country}\r\n            salary={value.salary}\r\n            nature={value.nature}\r\n            dataline={value.dateline}\r\n          />\r\n        ))\r\n      ) : (\r\n        <h4\r\n          className=\"display-3  text-center mb-3 animated slideInDown\"\r\n          style={{ fontSize: \"17px\" }}\r\n        >\r\n          Oops! No job Found for this category\r\n        </h4>\r\n      )}\r\n\r\n      {}\r\n\r\n      <Footer />\r\n      <a href=\"#\" class=\"btn btn-lg btn-primary btn-lg-square back-to-top\">\r\n        <i class=\"bi bi-arrow-up\"></i>\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}