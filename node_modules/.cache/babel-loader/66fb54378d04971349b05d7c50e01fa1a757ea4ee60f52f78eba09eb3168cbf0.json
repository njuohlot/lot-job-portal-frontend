{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/dedylu/perfect-job/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/dedylu/perfect-job/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/dedylu/perfect-job/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useReducer}from\"react\";import{Helmet}from\"react-helmet-async\";import{ToastContainer,toast}from\"react-toastify\";import{Store}from\"../../Store\";import Footer from\"../Component/Footer\";import Nav from\"../Component/Nav\";import Sidebar from\"../Component/Sidebar\";import{jobReducer}from\"../../JobReducer\";import axios from\"../../axios\";import Spiner from\"../../components/Spiner\";import{useNavigate}from\"react-router-dom\";import com_logo_2 from\"../../img/com-logo-2.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var AllJobs=function AllJobs(){var _useContext=useContext(Store),state=_useContext.state;var user=state.user;var navigate=useNavigate();var _useReducer=useReducer(jobReducer,{jobs:[],loading:true,error:\"\"}),_useReducer2=_slicedToArray(_useReducer,2),_useReducer2$=_useReducer2[0],loading=_useReducer2$.loading,jobs=_useReducer2$.jobs,error=_useReducer2$.error,dispatch=_useReducer2[1];useEffect(function(){var fetchJobs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:\"FETCH_REQUEST\"});_context.next=4;return axios.get(\"/myjobs/jobs\");case 4:_yield$axios$get=_context.sent;data=_yield$axios$get.data;dispatch({type:\"FETCH_SUCCESS\",payload:data});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);dispatch({type:\"FETCH_FAIL\",payload:_context.t0});case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));return function fetchJobs(){return _ref.apply(this,arguments);};}();fetchJobs();},[]);var handleDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(value){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!window.confirm(\"Are you sure to delete?\")){_context2.next=10;break;}_context2.prev=1;_context2.next=4;return axios.delete(\"/myjobs/job/admin/delete/\".concat(value._id),{headers:{authorization:\"Bearer \".concat(user.token)}});case 4:toast.success(\"Job deleted successfully\");_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](1);toast.success(\"Fail to delete\");case 10:case\"end\":return _context2.stop();}},_callee2,null,[[1,7]]);}));return function handleDelete(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Jobs\"})}),/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(\"main\",{id:\"main\",className:\"main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pagetitle\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"TheEmployer\"}),/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"breadcrumb-item active\",children:\"Dashboard\"})]})})]}),/*#__PURE__*/_jsx(\"section\",{className:\"section dashboard\",children:/*#__PURE__*/_jsx(\"div\",{className:\"list-job\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container py-3 bg-white\",children:loading?/*#__PURE__*/_jsx(Spiner,{}):error?toast.success(error):/*#__PURE__*/_jsx(_Fragment,{children:jobs&&jobs.length>0?jobs.map(function(value,key){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"job-item p-4 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-12 col-md-8 d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"flex-shrink-0 img-fluid border rounded\",src:com_logo_2,alt:\"\",style:{width:\"80px\",height:\"80px\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-start ps-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-3\",children:value.tittle}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-truncate me-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-map-marker-alt text-primary me-2\"}),value.location]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-truncate me-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"far fa-clock text-primary me-2\"}),value.nature]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-truncate me-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"far fa-money-bill-alt text-primary me-2\"}),value.salary,\"$\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-12 col-md-4 d-flex flex-column align-items-start align-items-md-end justify-content-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex mb-3\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-light btn-square me-3\",href:\"\",children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-heart text-primary\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mx-2\",type:\"button\",onClick:function onClick(){return navigate(\"/editadminjobs/id/\".concat(value._id));},children:\"Delete\"})]}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-truncate\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"far fa-calendar-alt text-primary me-2\"}),\"Date Publish: \",value.publish]}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-truncate\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"far fa-calendar-alt text-primary me-2\"}),\"Date Line: \",value.dateline]})]})]})},value._id)});}):\" No Jobs Found! Add Job\"})})})})]}),/*#__PURE__*/_jsx(Footer,{})]});};","map":{"version":3,"names":["React","useContext","useEffect","useReducer","Helmet","ToastContainer","toast","Store","Footer","Nav","Sidebar","jobReducer","axios","Spiner","useNavigate","com_logo_2","AllJobs","state","user","navigate","jobs","loading","error","dispatch","fetchJobs","type","get","data","payload","handleDelete","value","window","confirm","delete","_id","headers","authorization","token","success","length","map","key","width","height","tittle","location","nature","salary","publish","dateline"],"sources":["C:/Users/dedylu/perfect-job/client/src/AdminDashboard/adminpages/AllJobs.js"],"sourcesContent":["import React, { useContext, useEffect, useReducer } from \"react\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport { Store } from \"../../Store\";\r\nimport Footer from \"../Component/Footer\";\r\nimport Nav from \"../Component/Nav\";\r\nimport Sidebar from \"../Component/Sidebar\";\r\nimport { jobReducer } from \"../../JobReducer\";\r\nimport axios from \"../../axios\";\r\nimport Spiner from \"../../components/Spiner\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport com_logo_2 from \"../../img/com-logo-2.jpg\";\r\nexport const AllJobs = () => {\r\n  const { state } = useContext(Store);\r\n  const { user } = state;\r\n  const navigate = useNavigate();\r\n  const [{ loading, jobs, error }, dispatch] = useReducer(jobReducer, {\r\n    jobs: [],\r\n    loading: true,\r\n    error: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchJobs = async () => {\r\n      try {\r\n        dispatch({ type: \"FETCH_REQUEST\" });\r\n        const { data } = await axios.get(\"/myjobs/jobs\");\r\n        dispatch({ type: \"FETCH_SUCCESS\", payload: data });\r\n      } catch (error) {\r\n        dispatch({ type: \"FETCH_FAIL\", payload: error });\r\n      }\r\n    };\r\n    fetchJobs();\r\n  }, []);\r\n  const handleDelete = async (value) => {\r\n    if (window.confirm(\"Are you sure to delete?\")) {\r\n      try {\r\n        await axios.delete(`/myjobs/job/admin/delete/${value._id}`, {\r\n          headers: { authorization: `Bearer ${user.token}` },\r\n        });\r\n        toast.success(\"Job deleted successfully\");\r\n      } catch (error) {\r\n        toast.success(\"Fail to delete\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ToastContainer />\r\n      <Helmet>\r\n        <title>Jobs</title>\r\n      </Helmet>\r\n      <Nav />\r\n      <Sidebar />\r\n      <main id=\"main\" className=\"main\">\r\n        <div className=\"pagetitle\">\r\n          <h1>TheEmployer</h1>\r\n          <nav>\r\n            <ol className=\"breadcrumb\">\r\n              <li className=\"breadcrumb-item\">\r\n                <a href=\"/\">Home</a>\r\n              </li>\r\n              <li className=\"breadcrumb-item active\">Dashboard</li>\r\n            </ol>\r\n          </nav>\r\n        </div>\r\n\r\n        <section className=\"section dashboard\">\r\n          <div className=\"list-job\">\r\n            <div className=\"container py-3 bg-white\">\r\n              {loading ? (\r\n                <Spiner />\r\n              ) : error ? (\r\n                toast.success(error)\r\n              ) : (\r\n                <>\r\n                  {jobs && jobs.length > 0\r\n                    ? jobs.map((value, key) => (\r\n                        <>\r\n                          <div className=\"job-item p-4 mb-4\" key={value._id}>\r\n                            <div className=\"row g-4\">\r\n                              <div className=\"col-sm-12 col-md-8 d-flex align-items-center\">\r\n                                <img\r\n                                  className=\"flex-shrink-0 img-fluid border rounded\"\r\n                                  src={com_logo_2}\r\n                                  alt=\"\"\r\n                                  style={{ width: \"80px\", height: \"80px\" }}\r\n                                />\r\n                                <div className=\"text-start ps-4\">\r\n                                  <h5 className=\"mb-3\">{value.tittle}</h5>\r\n                                  <span className=\"text-truncate me-3\">\r\n                                    <i className=\"fa fa-map-marker-alt text-primary me-2\"></i>\r\n                                    {value.location}\r\n                                  </span>\r\n                                  <span className=\"text-truncate me-3\">\r\n                                    <i className=\"far fa-clock text-primary me-2\"></i>\r\n                                    {value.nature}\r\n                                  </span>\r\n                                  <span className=\"text-truncate me-0\">\r\n                                    <i className=\"far fa-money-bill-alt text-primary me-2\"></i>\r\n                                    {value.salary}$\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"col-sm-12 col-md-4 d-flex flex-column align-items-start align-items-md-end justify-content-center\">\r\n                                <div className=\"d-flex mb-3\">\r\n                                  <a\r\n                                    className=\"btn btn-light btn-square me-3\"\r\n                                    href=\"\"\r\n                                  >\r\n                                    <i className=\"far fa-heart text-primary\"></i>\r\n                                  </a>\r\n                                 \r\n                                  <button\r\n                                    className=\"btn btn-danger mx-2\"\r\n                                    type=\"button\"\r\n                                    onClick={() =>\r\n                                      navigate(`/editadminjobs/id/${value._id}`)\r\n                                    }\r\n                                  >\r\n                                    Delete\r\n                                  </button>\r\n                                </div>\r\n                                <small className=\"text-truncate\">\r\n                                  <i className=\"far fa-calendar-alt text-primary me-2\"></i>\r\n                                  Date Publish: {value.publish}\r\n                                </small>\r\n                                <small className=\"text-truncate\">\r\n                                  <i className=\"far fa-calendar-alt text-primary me-2\"></i>\r\n                                  Date Line: {value.dateline}\r\n                                </small>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </>\r\n                      ))\r\n                    : \" No Jobs Found! Add Job\"}\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </main>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}